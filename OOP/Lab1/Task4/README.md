#Задание 4, Вариант 1 – 100 баллов


Разработайте приложение rle, выполняющее RLE-компрессию бинарных файлов с сильно разреженным содержимым, а также декомпрессию упакованных ею файлов. 


Необходимо реализовать следующий принцип компрессии файла:

При обнаружении последовательности одинаковых байтов, она кодируется при помощи двух байтов. Первый байт хранит количество повторов следующего за ним байтов. 

Например, последовательность байт AAABBBBC, будет представлена в виде следующей последовательности байт: 3, 'A', 4, 'B', 1, 'C'

Таким образом, исходная 8-байтовая последовательность будет представлена при помощи всего шести байт.


Входные файлы нулевой длины представляются в виде выходных файлов нулевой длины.

Очевидно, что последовательность одинаковых байтов длиной более 255 байт двумя байтами закодирована быть не может, в этом случае первые 2 байта кодируют первые 255 байт последовательности, а затем обрабатываются следующие байты последовательности. Также очевидно, что однобайтовые последовательности требуют в 2 раза больше данных. Тем не менее, в качестве учебного задания для ознакомления с функциями файлового ввода-вывода задание вполне подходит.


Программа должна корректно обрабатывать ошибки, связанные с открытием входных и выходных файлов.

Размеры входных и выходных файлов таковы, что в оперативную память программы могут не поместиться целиком.

В комплекте с программой должен обязательно поставляться .bat файл, позволяющий проверить работу программы в автоматическом режиме, а также эталонные значения входных и выходных файлов. Проверка должна проверять как корректность работы в режиме упаковки, так и в режиме распаковки. 


Особое внимание следует уделить проверке работы граничных условий работы программы:

- Входной файл нулевой длины

- Тестирование файлов, содержащих последовательности одинаковых символов в 255, 256 и 257 байт

- Недопустимые ситуации: нечетная длина запакованного файла, количество повторений символа, равное нулю

- Файл, содержащий символы с кодом 255


Формат параметров командной строки.

Упаковка: rle pack <input file> <output file>

Распаковка: rle unpack <input file> <output file>
